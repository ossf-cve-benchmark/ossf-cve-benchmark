# contrib/tools/eslint 

This directory contains the driver for running the
[`eslint`](https://eslint.org/) analysis tool.

## Installation

To make use of this driver, install `eslint` and two of its security
plugins: `eslint-plugin-security`, `eslint-plugin-security-node` on
the local machine. This can be done with
[installers/install.sh](./installers/install.sh).

## Configuration

To make use of the installed `eslint`, add a tools entry in the config file 
as instructed by the install script above. 

```json
{
  ...
  "tools": {
    ...
    "eslint-default": {
      "bin": "node",
      "args": [
        "/home/user-name/ossf-cve-benchmark/build/ts/contrib/tools/eslint/src/eslint.js",
      ],
      "options": {
        "eslintDir": "/home/user-name/analysis-tools/eslint-2020-12-08"
      }  
    }
    ...
  }
  ...
}
```

This will allow you to use the tool-id `eslint-default` in `cli/bin run
--tool eslint-default`.  To use another version of `eslint`,
install it, and add another configuration entry that uses that:

```json
{
  ...
  "eslint-2019": {
    "bin": "node",
    "args": [
      "/home/user-name/ossf-cve-benchmark/build/ts/contrib/tools/eslint/src/eslint.js",
    ],
    "options": {
      "eslintDir": "/home/user-name/analysis-tools/eslint-2019-12-08"
    }     
  }
  ...
}
```

## Supported versions

[eslint.ts](src/eslint.ts) has been tested with the following
versions of `eslint` and its plugins:

```
    "eslint": "=7.10.0",
    "eslint-plugin-security": "=1.4.0",
    "eslint-plugin-security-node": "=1.0.12"
```

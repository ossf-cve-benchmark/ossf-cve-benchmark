# ossf-cve-benchmark

***Note, this project is still in development.  The README files and may
not be up entirely to date, and some features may be missing.***

TODO @esbena & others: General, and very polished intro

![](resources/screenshot.png)

## Installing the benchmark tool

To install the benchmark tool, simply clone this repo and run the installation
scripts provided:

```
$ git clone git@github.com:ossf-cve-benchmark/ossf-cve-benchmark.git
$ cd ossf-cve-benchmark
$ npm i
$ npm run-script build
```

On Linux and macOS, you can invoke the tool by runnning `bin/cli`
with the appropriate command-line options. 
On Windows, you need to run `bin/cli.cmd`. 

To confirm that you have successfully installed the benchmark tool,
run the tool with the `-h` option to display usage and basic help
information:

```
$ bin/cli -h
usage: bin/cli [-h] { ... }

CLI for ossf-cve-benchmark

...
```

## Using the benchmark tool

The benchmark tool has two primary uses: running analysis tools and creating
benchmark reports.

### Use case 1: Running analysis tools

You can use analysis tool drivers to run specific analysis tools 
on the source code of the commits associated with selected CVEs. Using the data generated 
in these analysis runs, you can then generate benchmark reports to show how the tool performed. 
For more information about generating benchmark reports, see 
[Use case 2: Benchmark reports](#use-case-2-exploring-benchmark-reports) below.

Before using an analysis tool driver, you must set up the driver 
according to its README.md. For example, for more information about 
setting up eslint, see [contrib/tools/eslint/README.md](contrib/tools/eslint/README.md). 

To run an analysis with a driver, use the `run` command 
specifying:

- your driver using the `--tool` option.
- one or more CVEs to run the tool on.

For example, to run an analysis using eslint over CVE-2018-16492 
and CVE-2020-4066 you would use:

```
$ bin/cli run --tool eslint-default CVE-2018-16492 CVE-2020-4066
```

For more information, see [Analysis tools](docs/analysis-tools.md),
[Configuration](docs/configuration.md), and
[Benchmark CVEs](docs/benchmark-CVEs.md).

### Use case 2: Benchmark reports

You can use data generated locally by your analysis tool driver or existing 
data provided in JSON format to create benchmark reports to see 
how a tool performed.

To create a benchmark report using data generated locally by a driver,
use the `report` command specifying:

- your driver using the `--tool` option.
- how you would like to view the report using the `--kind`
  option. To start a server to view the report, specify `server`.
  To view a static report, specify `txt`.
- one or more CVEs to include data for.

For example, to start a report server using data from running an 
analysis with the eslint tool driver over CVE-2018-16492 and CVE-2020-4066,
you would use:

```
$ bin/cli report --kind server --tool eslint-default CVE-2018-16492 CVE-2020-4066
```

After running this command, you can view the report at https://localhost:8080.

Alternatively, use `--kind txt` to create a static, debugging-oriented report:

```
$ bin/cli report --kind txt --tool eslint-default CVE-2018-16492 CVE-2020-4066
```

To start a report server using data provided in `export.json`, use:

```
$ bin/cli report --kind server --import export.json --tool eslint-default CVE-2018-16492 CVE-2020-4066
```

## Contributing

We welcome contributions to ossf-cve-benchmark project.  If you want
to contribute, then please go ahead and open a pull request! See
additional details in our [contributing guidelines](CONTRIBUTING.md).

## License

The code in this repository is licensed under the [MIT License](LICENSE).

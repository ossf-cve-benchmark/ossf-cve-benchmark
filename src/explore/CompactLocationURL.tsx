import * as React from "react";
import { getSource, makeCompactLocationString, SetSourceFocus } from "./util";
export default function makeCompactLocationURL(props: {
  cve: string;
  commit: string;
  file: string;
  line: number;
  setSourceFocus: SetSourceFocus;
}): JSX.Element {
  async function handleRowClick() {
    {
      props.setSourceFocus({
        source: await getSource(props.cve, props.commit, props.file),
        line: props.line,
        file: props.file,
        commit: props.commit
      });
    }
  }

  return (
    <a href="#" onClick={handleRowClick}>
      {makeCompactLocationString(props.file, props.line)}
    </a>
  );
}

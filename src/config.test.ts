import * as config from "./config";
import * as fs from "fs";
describe("Configuration utilities", () => {
  test("Can find projectRoot", () => {
    let root = config.getProjectRoot();
    expect(root).toBeTruthy();
    expect(fs.existsSync(root)).toBe(true);
  });
  test("Can find toolsSrcRoot", () => {
    let root = config.getToolsSrcRoot();
    expect(root).toBeTruthy();
    expect(fs.existsSync(root)).toBe(true);
  });
  test("Can produce default configuration", () => {
    expect(config.getConfig({})).toBeTruthy();
  });
  test("Can produce partially default configuration", () => {
    let sourcesPath = "my/sources/path";
    expect(config.getConfig({ sources: sourcesPath }).sources).toBe(
      sourcesPath
    );
  });
});

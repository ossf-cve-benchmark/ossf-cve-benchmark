# Configuration

When you run processes with `bin/cli`, there are two 
ways to configure command options:

- on the command line, using the appropriate flag.
- in a configuration file.

## Command line options for `bin/cli`

To view documentation for the CVE benchmarker on the command line,
you can run `bin/cli` commands with the `--help` option.

For example, to view a summary of the commands available
for the CVE benchmarker, you can run:

```
$ bin/cli --help
```

To view the documentation for the command-line options
available for the `bin/cli run` command, you can run: 

```
$ bin/cli run --help
```

### Selecting CVEs of interest

Some `bin/cli` commands require you to select data for CVEs. 
There are three kinds of CVE selector you can use:

- An explicit CVE identifier. For example, `CVE-2018-3743`.
- Patterns that select a group of CVEs. For example, `year:2020`, `CWE-88`,      
  and `mitre-cwe-top:25:2020`. 
- A wildcard operator `'*'` that selects all available benchmark CVEs.

To see a full list of the available selectors, run:

```
$ bin/cli list --help
```

For commands that require you to select CVEs, you can use any combination of
selectors, and the command will use the union of the selected CVEs.
For example, `CWE-88 CWE-89 CVE-123-456` uses the single CVE `CVE-123-456` and all CVEs with either `CWE-88` or `CWE-89`.
  
For advanced scripting, the selectors can be provided as a line-separated
input stream in `stdin`, rather than on the command line. For example:

```
$ echo CWE-88 > my-cves.txt
$ echo CWE-88 > my-cves.txt
$ echo CVE-123-456 > my-cves.txt
$ cat my-cves.txt | bin/cli list -
```

is equivalent to `bin/cli list CWE-88 CWE-89 CVE-123-456`. 

Note that CVEs that are considered to be "incomplete" will not be
selected by default. For more information, see [Benchmark CVEs](docs/benchmark-CVEs.md).


## Configuration file options for `bin/cli`

Many commands accept options specified in a configuration file, `config.json`.
By default, `bin/cli` looks in the current working directory for 
the configuration file. If you want to save your configuration file in an
alternative location, you must specify the path to `config.json` using the `--config`
option on the command line.  

Most options that are set in `config.json` may be overridden
individually on a per-command basis with identically named
command-line arguments. For example, you can use `sources` to provide a 
location to download source code for CVEs in `config.json`. To override the `sources` 
value in `config.json`, you can specify `--sources` on the command line.

## Configuring drivers for analysis tools

Configuration files are also used to to configure drivers for analysis tools.
For an example of configuring a driver for an analysis tool, 
see [Configuring the driver for `eslint`](eslint-example.md#configuring-the-driver-for-eslint).

For more information about the allowed contents of a configuration file, 
see the JSON schema for the [Config](docs/jsonshema/ts-defs-definitions-config.md) type.

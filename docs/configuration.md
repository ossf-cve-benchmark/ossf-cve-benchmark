# Configuration

The commands of `bin/cli` can be configured with various options. Some
options are set on the command line, while others are set in a
configuration file.

## The command line options for `bin/cli`

The majority of the documentation for the command line options for `bin/cli` can be seen with the `--help` option.
For example:

```
$ bin/cli --help
```
or
```
$ bin/cli run --help
```


### Selecting CVEs of interest

Most `bin/cli` commands support selecting the CVEs that should be processed.

There are several ways to specify CVEs. The two basic ways are:

- An explicit list of CVE identifiers: e.g. `bin/cli download-commits CVE-2017-18352 CVE-2018-3743`
- A wildcard operator that selects all available BCVEs: `bin/cli download-commits '*'`

In addition to this, there are patterns that can select CVEs based on year, CWE, and more. For example:

- The CVEs from 2020 `bin/cli download-commits year:2020`
- The CVEs with CWE-88 or CWE-89 `bin/cli download-commits CWE-88 CWE-89`
- The CVEs with a CWE from [MITRE's CWE top 25](https://cwe.mitre.org/top25/archive/2020/2020_cwe_top25.html) list in 2020`: bin/cli download-commits mitre-cwe-top:25:2020`

Finally, all of the above can be provided as a line-separated input stream in stdin.
For example:

```
$ echo CVE-2017-18352 >> my-cves.txt
$ echo CVE-2018-3743 >> my-cves.txt
$ cat my-cves.txt | bin/cli export -
```

Note that CVEs that are considered to be "incomplete" will not be
selected by default, see [benchmark-CVEs](docs/benchmark-CVEs.md) for
details.

Run the following command for a full list of the available selectors:

```
$ bin/cli list --help
```

## The configuration file for `bin/cli`

Most commands of `bin/cli` use a configuration file that is either
specified by `--config my/path/config.json`, or implicitly assumed
present at `config.json` of the `bin/cli`'s working directory. Some
commands may still work if neither of these are present. 

Most options that are set in `config.json` may be overridden
individually on a per-command basis with identically named
command-line arguments. As an example, the directory that the commits
of a CVE are downloaded to can be overridden with the `--sources`
argument: `bin/cli download-commits --sources-dir my/other/sources/dir -`.

See the [Config](docs/jsonshema/ts-defs-definitions-config.md) type
for what a configuration file can contain.

